How to implement a new environment
==================================